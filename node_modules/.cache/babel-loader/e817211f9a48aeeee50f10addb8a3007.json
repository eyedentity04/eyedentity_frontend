{"ast":null,"code":"var _jsxFileName = \"/home/puancoffee/Documents/sony_yang_pake/eyedentity_frontend/src/components/Homepage/CommentPost.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Formik, Form } from 'formik';\nimport \"./Add.css\";\nimport { connect } from \"react-redux\";\nimport { addComment } from \"../../actioncreators/comment\";\nimport { getComment } from \"../../actioncreators/comment\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst CommentPost = props => {\n  const {\n    dataComment\n  } = props;\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const token = user.token;\n    axios.get(`https://api.riyofirsan.com/comment/show`, {\n      headers: {\n        \"token\": token\n      }\n    }).then(response => {\n      console.log(response.data); // dispatch({\n      //   type: \"COMMENT_SHOW\",\n      //   payload: response.data,\n      // });\n    });\n  }, []);\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const id = user.id; // const showComment = dataComment.map((item,index) => {\n  //     console.log(item.comment)\n  //     return(\n  //         <div key={item} data={index}>\n  //         <div className=\"card mt-3 w-100\" style={{ borderRadius: \"10px\" }}>\n  //             <div className=\"card-header\">\n  //                 <div className=\"d-flex flex-row\">\n  //                     <div className=\"d-inline-flex flex-column\">\n  //                     <p className=\"lead font-weight-bold mb-0 ml-2\">\n  //                         {/* {item.userComment} */}\n  //                     </p>\n  //                     </div>\n  //                     <div className=\"card-body\">\n  //                         <p className=\"card-text\">\n  //                            {/* {item.commentText} */}\n  //                         </p>\n  //                     </div>\n  //                 </div>\n  //             </div>\n  //         </div>\n  //     </div>\n  //     )\n  // })\n\n  return /*#__PURE__*/React.createElement(Modal, Object.assign({}, props, {\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    id: \"contained-modal-title-vcenter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"Comment\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }), \";\"), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      targetPostId: props.data._id,\n      userId: id,\n      commentText: ''\n    },\n    onSubmit: (values, action) => {\n      if (values && !values) {\n        window.alert(\"comment succes\");\n        props.addComment(values);\n        action.resetForm();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, props => /*#__PURE__*/React.createElement(Form, {\n    onSubmit: props.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    id: \"commentText\",\n    name: \"commentText\",\n    rows: 2,\n    style: {\n      resize: \"none\"\n    },\n    value: props.values.commentText,\n    placeholder: \"Comment\",\n    onChange: props.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn text-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 33\n    }\n  }, \"Comment\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: props.onHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 33\n    }\n  }, \"Close\")))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    dataComment: state.commentUser.data\n  };\n};\n\nconst mapDispatchToProps = {\n  addComment: addComment,\n  getComment: getComment\n};\nexport default connect(mapDispatchToProps, mapStateToProps)(CommentPost);","map":{"version":3,"sources":["/home/puancoffee/Documents/sony_yang_pake/eyedentity_frontend/src/components/Homepage/CommentPost.js"],"names":["React","useState","useEffect","Formik","Form","connect","addComment","getComment","Modal","Button","axios","CommentPost","props","dataComment","user","JSON","parse","localStorage","getItem","token","get","headers","then","response","console","log","data","id","targetPostId","_id","userId","commentText","values","action","window","alert","resetForm","handleSubmit","resize","handleChange","onHide","mapStateToProps","state","commentUser","mapDispatchToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,MAAR,EAAgBC,IAAhB,QAA2B,QAA3B;AACA,OAAO,WAAP;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,UAAR,QAAyB,8BAAzB;AACA,SAAQC,UAAR,QAAyB,8BAAzB;AACA,SAAQC,KAAR,EAAcC,MAAd,QAA2B,iBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAE3B,QAAM;AAACC,IAAAA;AAAD,MAAgBD,KAAtB;AAEAV,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMY,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,UAAMC,KAAK,GAAGL,IAAI,CAACK,KAAnB;AACAT,IAAAA,KAAK,CACFU,GADH,CACQ,yCADR,EACkD;AAC9CC,MAAAA,OAAO,EAAE;AAAE,iBAASF;AAAX;AADqC,KADlD,EAIGG,IAJH,CAISC,QAAD,IAAc;AAElBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EAFkB,CAIlB;AACA;AACA;AACA;AACD,KAZH;AAcH,GAjBQ,EAiBP,EAjBO,CAAT;AAqBA,QAAMZ,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,QAAMS,EAAE,GAAGb,IAAI,CAACa,EAAhB,CA1B2B,CA4B3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,sBACI,oBAAC,KAAD,oBACQf,KADR;AAEI,IAAA,IAAI,EAAC,IAFT;AAGI,uBAAgB,+BAHpB;AAII,IAAA,QAAQ,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAKI,oBAAC,KAAD,CAAO,MAAP;AAAc,IAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD,CAAO,KAAP;AAAa,IAAA,EAAE,EAAC,+BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CALJ,eAUI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,MAVJ,eAaI,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AACI,IAAA,aAAa,EAAE;AACfgB,MAAAA,YAAY,EAAEhB,KAAK,CAACc,IAAN,CAAWG,GADV;AAEfC,MAAAA,MAAM,EAAEH,EAFO;AAGfI,MAAAA,WAAW,EAAE;AAHE,KADnB;AAMI,IAAA,QAAQ,EACN,CAACC,MAAD,EAASC,MAAT,KAAoB;AACtB,UAAGD,MAAM,IAAI,CAACA,MAAd,EAAqB;AACjBE,QAAAA,MAAM,CAACC,KAAP,CAAa,gBAAb;AACAvB,QAAAA,KAAK,CAACN,UAAN,CAAiB0B,MAAjB;AACAC,QAAAA,MAAM,CAACG,SAAP;AACH;AAEJ,KAdD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAeKxB,KAAK,iBACF,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEA,KAAK,CAACyB,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,SAAS,EAAC,cADd;AAEI,IAAA,EAAE,EAAC,aAFP;AAGI,IAAA,IAAI,EAAC,aAHT;AAII,IAAA,IAAI,EAAE,CAJV;AAKI,IAAA,KAAK,EAAE;AACPC,MAAAA,MAAM,EAAE;AADD,KALX;AAQI,IAAA,KAAK,EAAE1B,KAAK,CAACoB,MAAN,CAAaD,WARxB;AASI,IAAA,WAAW,EAAC,SAThB;AAUI,IAAA,QAAQ,EAAEnB,KAAK,CAAC2B,YAVpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAcI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,gBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADA,eAIA,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAE3B,KAAK,CAAC4B,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJA,CAdJ,CADJ,CAhBR,CADJ,CAbJ,CADJ;AA4DH,CAjHD;;AAmHA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AAC/B,SAAO;AACH7B,IAAAA,WAAW,EAAE6B,KAAK,CAACC,WAAN,CAAkBjB;AAD5B,GAAP;AAGH,CAJD;;AAMA,MAAMkB,kBAAkB,GAAG;AACvBtC,EAAAA,UAAU,EAAEA,UADW;AAEvBC,EAAAA,UAAU,EAAEA;AAFW,CAA3B;AAMA,eAAeF,OAAO,CAACuC,kBAAD,EAAoBH,eAApB,CAAP,CAA4C9B,WAA5C,CAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Formik, Form} from 'formik'\nimport \"./Add.css\";\nimport {connect} from \"react-redux\";\nimport {addComment} from \"../../actioncreators/comment\";\nimport {getComment} from \"../../actioncreators/comment\"\nimport {Modal,Button} from \"react-bootstrap\"\nimport axios from \"axios\"\n\nconst CommentPost = (props) => {\n\n    const {dataComment} = props\n\n    useEffect(() => {\n        const user = JSON.parse(localStorage.getItem(\"user\"));\n        const token = user.token;\n        axios\n          .get(`https://api.riyofirsan.com/comment/show`, {\n            headers: { \"token\": token },\n          })\n          .then((response) => {\n            \n            console.log(response.data);\n            \n            // dispatch({\n            //   type: \"COMMENT_SHOW\",\n            //   payload: response.data,\n            // });\n          });\n        \n    },[])\n\n    \n\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const id = user.id;\n\n    // const showComment = dataComment.map((item,index) => {\n    //     console.log(item.comment)\n    //     return(\n    //         <div key={item} data={index}>\n    //         <div className=\"card mt-3 w-100\" style={{ borderRadius: \"10px\" }}>\n    //             <div className=\"card-header\">\n    //                 <div className=\"d-flex flex-row\">\n    //                     <div className=\"d-inline-flex flex-column\">\n    //                     <p className=\"lead font-weight-bold mb-0 ml-2\">\n    //                         {/* {item.userComment} */}\n    //                     </p>\n    //                     </div>\n    //                     <div className=\"card-body\">\n    //                         <p className=\"card-text\">\n    //                            {/* {item.commentText} */}\n    //                         </p>\n    //                     </div>\n    //                 </div>\n    //             </div>\n    //         </div>\n    //     </div>\n    //     )\n        \n    // })\n\n    return (\n        <Modal\n            {...props}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered>\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Comment\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n            <div className=\"container\"></div>;\n            </Modal.Body>\n            <Modal.Footer>\n                <Formik\n                    initialValues={{\n                    targetPostId: props.data._id,\n                    userId: id,\n                    commentText: ''\n                }}\n                    onSubmit\n                    ={(values, action) => {\n                    if(values && !values){\n                        window.alert(\"comment succes\")\n                        props.addComment(values);\n                        action.resetForm()\n                    }\n                    \n                }}>\n                    {props => (\n                        <Form onSubmit={props.handleSubmit}>\n                            <div>\n                                <div className=\"form-group\">\n                                    <textarea\n                                        className=\"form-control\"\n                                        id=\"commentText\"\n                                        name=\"commentText\"\n                                        rows={2}\n                                        style={{\n                                        resize: \"none\"\n                                    }}\n                                        value={props.values.commentText}\n                                        placeholder=\"Comment\"\n                                        onChange={props.handleChange}/>\n                                </div>\n                                <div className=\"row\">\n                                <button type=\"submit\" className=\"btn text-light\">\n                                    Comment\n                                </button>\n                                <Button onClick={props.onHide}>Close</Button>\n                                </div>\n                            </div>\n                        </Form>\n                    )}\n                </Formik>\n            </Modal.Footer>\n        </Modal>\n    )\n\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        dataComment: state.commentUser.data\n    }\n}\n\nconst mapDispatchToProps = {\n    addComment: addComment,\n    getComment: getComment,\n   \n};\n\nexport default connect(mapDispatchToProps,mapStateToProps)(CommentPost);"]},"metadata":{},"sourceType":"module"}