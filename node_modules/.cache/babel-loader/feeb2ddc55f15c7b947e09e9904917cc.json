{"ast":null,"code":"var _jsxFileName = \"/home/lenovo-linux/Desktop/glints/project/final-project/eyedentity_frontend/src/components/Homepage/PostId.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from '';\nimport axios from 'axios';\nimport { connect } from \"react-redux\";\nimport \"./post.css\";\nimport { addLike } from \"../../actioncreators/Home\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faThumbsUp, faComment } from \"@fortawesome/free-solid-svg-icons\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport Comment from \"../Homepage/Comment\";\nimport CommentPost from \"../Homepage/CommentPost\";\nimport { addcomment } from \"../../actioncreators/comment\";\nimport Navbar from \"../Navbar\";\n\nconst PostId = props => {\n  const url = process.env.REACT_APP_API_URL;\n  const {\n    _id\n  } = useParams({});\n  const [data, setData] = useState({});\n  const [showComment, setShowComment] = useState(false);\n  const [comments, setComments] = useState(\"\");\n  useEffect(() => {\n    axios.get(`${url}/post/show/${_id}`).then(res => {\n      const data = res.data;\n      console.log(data);\n      setData(data);\n    });\n  }, [_id]);\n\n  const addlike = targetPostId => {\n    props.addLike(targetPostId);\n  };\n\n  dayjs.extend(relativeTime);\n\n  const addCommentInPost = newComment => {\n    props.addcomment(newComment);\n    setComments(newComment);\n  };\n\n  const btnLikeClassName = data.likedByMe ? \"bg-secondary\" : \"\";\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card mt-3 w-100\",\n    style: {\n      borderRadius: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `${url}/${data.name.image}`,\n    style: {\n      height: \"50px\",\n      width: \"50px\",\n      borderRadius: \"50%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-inline-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead font-weight-bold mb-0 ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, data.name.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \" text-muted mb-0 ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, data.tagPlace[0].namePlace !== \"undefined\" ? data.tagPlace[0].namePlace : null)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-muted ml-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, dayjs(data.date).fromNow()))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text text-muted mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, data.tag.map((item, index) => /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mr-1\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"@\", item.name))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, data.description), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"card-img-top\",\n    src: `${url}/${data.image}`,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: `btn text-light mt-3 ${btnLikeClassName}`,\n    onClick: () => {\n      addlike(data._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faThumbsUp,\n    className: \"fa-1x mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }), \"\\xA0 Like \", data.likesCount), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: `btn text-light mt-3 ml-1`,\n    onClick: () => {\n      setShowComment(!showComment);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, showComment ? \"Hide\" : \"Show\", \" Comment\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \" mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Comment, {\n    data: data,\n    addCommentInPost: addCommentInPost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }))), showComment && /*#__PURE__*/React.createElement(CommentPost, {\n    data: data,\n    comments: comments,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 27\n    }\n  }))));\n};\n\nconst mapDispatchToProps = {\n  addLike: addLike,\n  addcomment\n};\nexport default connect(null, mapDispatchToProps)(PostId);","map":{"version":3,"sources":["/home/lenovo-linux/Desktop/glints/project/final-project/eyedentity_frontend/src/components/Homepage/PostId.js"],"names":["React","useEffect","useState","useParams","axios","connect","addLike","FontAwesomeIcon","faThumbsUp","faComment","dayjs","relativeTime","Comment","CommentPost","addcomment","Navbar","PostId","props","url","process","env","REACT_APP_API_URL","_id","data","setData","showComment","setShowComment","comments","setComments","get","then","res","console","log","addlike","targetPostId","extend","addCommentInPost","newComment","btnLikeClassName","likedByMe","borderRadius","name","image","height","width","tagPlace","namePlace","date","fromNow","tag","map","item","index","description","likesCount","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState} from \"react\";\nimport {useParams} from ''\nimport axios from 'axios'\nimport { connect } from \"react-redux\";\nimport \"./post.css\";\nimport { addLike } from \"../../actioncreators/Home\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faThumbsUp, faComment } from \"@fortawesome/free-solid-svg-icons\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport Comment from \"../Homepage/Comment\";\nimport CommentPost from \"../Homepage/CommentPost\";\nimport { addcomment } from \"../../actioncreators/comment\";\nimport Navbar from \"../Navbar\";\n\nconst PostId = (props) => {\n  const url = process.env.REACT_APP_API_URL;\n\n  const {_id} = useParams({})\n  const [data, setData] =useState({})\n\n  const [showComment, setShowComment] = useState(false);\n  const [comments, setComments] = useState(\"\");\n\n  useEffect(() => {\n    axios.get(`${url}/post/show/${_id}`).then((res) => {\n      const data = res.data;\n      console.log(data);\n      setData(data);\n    });\n  }, [_id]);\n\n  const addlike = (targetPostId) => {\n    props.addLike(targetPostId);\n  };\n\n  dayjs.extend(relativeTime);\n\n  const addCommentInPost = (newComment) => {\n    props.addcomment(newComment);\n    setComments(newComment);\n  };\n\n  const btnLikeClassName = data.likedByMe ? \"bg-secondary\" : \"\";\n  return (\n    <div>\n      <Navbar />\n      <div>\n        <div className=\"card mt-3 w-100\" style={{ borderRadius: \"10px\" }}>\n          <div className=\"card-header\">\n            <div className=\"d-flex flex-row\">\n              <img\n                src={`${url}/${data.name.image}`}\n                style={{ height: \"50px\", width: \"50px\", borderRadius: \"50%\" }}\n              />\n              <div className=\"d-inline-flex flex-column\">\n                <p className=\"lead font-weight-bold mb-0 ml-2\">\n                  {data.name.name}\n                </p>\n                <p className=\" text-muted mb-0 ml-2\">\n                  {data.tagPlace[0].namePlace !== \"undefined\"\n                    ? data.tagPlace[0].namePlace\n                    : null}\n                </p>\n              </div>\n              <p className=\"text-muted ml-auto\">{dayjs(data.date).fromNow()}</p>\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <p className=\"card-text text-muted mb-0\">\n              {data.tag.map((item, index) => (\n                <span className=\"mr-1\" key={index}>\n                  @{item.name}\n                </span>\n              ))}\n            </p>\n            <p className=\"card-text\">{data.description}</p>\n            <img className=\"card-img-top\" src={`${url}/${data.image}`} alt=\"\" />\n\n            <button\n              type=\"button\"\n              className={`btn text-light mt-3 ${btnLikeClassName}`}\n              onClick={() => {\n                addlike(data._id);\n              }}\n            >\n              <FontAwesomeIcon icon={faThumbsUp} className=\"fa-1x mx-auto\" />\n              &nbsp; Like {data.likesCount}\n            </button>\n            \n            <button\n              type=\"button\"\n              className={`btn text-light mt-3 ml-1`}\n              onClick={() => {\n                setShowComment(!showComment);\n              }}\n            >\n              {showComment ? \"Hide\" : \"Show\"} Comment\n            </button>\n\n            <div className=\" mt-2\">\n              <Comment data={data} addCommentInPost={addCommentInPost} />\n            </div>\n          </div>\n          {showComment && <CommentPost data={data} comments={comments} />}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = {\n  addLike: addLike,\n  addcomment,\n};\n\nexport default connect(null, mapDispatchToProps)(PostId);\n"]},"metadata":{},"sourceType":"module"}