{"ast":null,"code":"var _jsxFileName = \"/home/puancoffee/Documents/sony_yang_pake/eyedentity_frontend/src/components/Homepage/CommentPost.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Formik, Form } from 'formik';\nimport \"./Add.css\";\nimport { connect } from \"react-redux\";\nimport { addComment } from \"../../actioncreators/comment\";\nimport { getComment } from \"../../actioncreators/comment\";\nimport { getData } from \"../../actioncreators/Home\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst CommentPost = props => {\n  const {\n    dataComment\n  } = props;\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const token = user.token;\n    axios.get(`https://api.riyofirsan.com/comment/show`, {\n      headers: {\n        \"token\": token\n      }\n    }).then(response => {\n      console.log(response.data); // dispatch({\n      //   type: \"COMMENT_SHOW\",\n      //   payload: response.data,\n      // });\n    });\n  }, []);\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const id = user.id;\n  const showComment = dataComment.map((item, index) => {\n    console.log(item.comment);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: item,\n      data: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card mt-3 w-100\",\n      style: {\n        borderRadius: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline-flex flex-column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"lead font-weight-bold mb-0 ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }\n    }, item.userComment)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }\n    }, item.commentText))))));\n  });\n  return /*#__PURE__*/React.createElement(Modal, Object.assign({}, props, {\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    id: \"contained-modal-title-vcenter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"Comment\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, showComment), \";\"), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      targetPostId: props.data._id,\n      userId: id,\n      commentText: ''\n    },\n    onSubmit: (values, action) => {\n      if (values && !values) {\n        window.alert(\"comment succes\");\n        props.addComment(values);\n        action.resetForm();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, props => /*#__PURE__*/React.createElement(Form, {\n    onSubmit: props.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    id: \"commentText\",\n    name: \"commentText\",\n    rows: 2,\n    style: {\n      resize: \"none\"\n    },\n    value: props.values.commentText,\n    placeholder: \"Comment\",\n    onChange: props.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn text-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  }, \"Comment\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: props.onHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  }, \"Close\")))))));\n}; // const mapStateToProps = (state) => {\n//     return {dataComment: state.commentUser.data}\n// }\n// const mapDispatchToProps = {\n//     addComment: addComment,\n//     getComment: getComment,\n//     // getData : getData\n// };\n\n\nexport default CommentPost;","map":{"version":3,"sources":["/home/puancoffee/Documents/sony_yang_pake/eyedentity_frontend/src/components/Homepage/CommentPost.js"],"names":["React","useState","useEffect","Formik","Form","connect","addComment","getComment","getData","Modal","Button","axios","CommentPost","props","dataComment","user","JSON","parse","localStorage","getItem","token","get","headers","then","response","console","log","data","id","showComment","map","item","index","comment","borderRadius","userComment","commentText","targetPostId","_id","userId","values","action","window","alert","resetForm","handleSubmit","resize","handleChange","onHide"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Formik, Form} from 'formik'\nimport \"./Add.css\";\nimport {connect} from \"react-redux\";\nimport {addComment} from \"../../actioncreators/comment\";\nimport {getComment} from \"../../actioncreators/comment\"\nimport { getData } from \"../../actioncreators/Home\";\nimport {Modal,Button} from \"react-bootstrap\"\nimport axios from \"axios\"\n\nconst CommentPost = (props) => {\n\n    const {dataComment} = props\n\n    useEffect(() => {\n        const user = JSON.parse(localStorage.getItem(\"user\"));\n        const token = user.token;\n        axios\n          .get(`https://api.riyofirsan.com/comment/show`, {\n            headers: { \"token\": token },\n          })\n          .then((response) => {\n            \n            console.log(response.data);\n            \n            // dispatch({\n            //   type: \"COMMENT_SHOW\",\n            //   payload: response.data,\n            // });\n          });\n        \n    },[])\n\n    \n\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const id = user.id;\n\n    const showComment = dataComment.map((item,index) => {\n        console.log(item.comment)\n        return(\n            <div key={item} data={index}>\n            <div className=\"card mt-3 w-100\" style={{ borderRadius: \"10px\" }}>\n                <div className=\"card-header\">\n                    <div className=\"d-flex flex-row\">\n                        <div className=\"d-inline-flex flex-column\">\n                        <p className=\"lead font-weight-bold mb-0 ml-2\">\n                            {item.userComment}\n                        </p>\n                        </div>\n                        <div className=\"card-body\">\n                            <p className=\"card-text\">\n                               {item.commentText}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        )\n        \n    })\n\n    return (\n        <Modal\n            {...props}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered>\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Comment\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n            <div className=\"container\">{showComment}</div>;\n            </Modal.Body>\n            <Modal.Footer>\n                <Formik\n                    initialValues={{\n                    targetPostId: props.data._id,\n                    userId: id,\n                    commentText: ''\n                }}\n                    onSubmit\n                    ={(values, action) => {\n                    if(values && !values){\n                        window.alert(\"comment succes\")\n                        props.addComment(values);\n                        action.resetForm()\n                    }\n                    \n                }}>\n                    {props => (\n                        <Form onSubmit={props.handleSubmit}>\n                            <div>\n                                <div className=\"form-group\">\n                                    <textarea\n                                        className=\"form-control\"\n                                        id=\"commentText\"\n                                        name=\"commentText\"\n                                        rows={2}\n                                        style={{\n                                        resize: \"none\"\n                                    }}\n                                        value={props.values.commentText}\n                                        placeholder=\"Comment\"\n                                        onChange={props.handleChange}/>\n                                </div>\n                                <div className=\"row\">\n                                <button type=\"submit\" className=\"btn text-light\">\n                                    Comment\n                                </button>\n                                <Button onClick={props.onHide}>Close</Button>\n                                </div>\n                            </div>\n                        </Form>\n                    )}\n                </Formik>\n            </Modal.Footer>\n        </Modal>\n    )\n\n}\n\n// const mapStateToProps = (state) => {\n//     return {dataComment: state.commentUser.data}\n// }\n\n// const mapDispatchToProps = {\n//     addComment: addComment,\n//     getComment: getComment,\n//     // getData : getData\n// };\n\nexport default CommentPost"]},"metadata":{},"sourceType":"module"}